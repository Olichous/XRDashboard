<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update Console</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js" integrity="sha384-ji8+Iass59BILowKIiMzZLpy0X58F3RDeo63eVUsVTNff7kwh28ykVfoWENYFzvj" crossorigin="anonymous"></script>
</head>
<body>
<div class="container my-3">
    <h2>Update Console</h2>
    <pre id="log" style="height:400px; overflow:auto; background:#000; color:#0f0; padding:1em"></pre>
</div>
<script>
const socket = io();
const log = document.getElementById('log');
const eqId = {{ eq_id }};
socket.emit('join', eqId);
socket.on('log', msg => {
    log.textContent += msg + '\n';
    log.scrollTop = log.scrollHeight;
});
</script>
</body>
</html>
